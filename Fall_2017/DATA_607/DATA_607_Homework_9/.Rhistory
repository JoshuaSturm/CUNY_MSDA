recent.clean <- fromJSON(recent.get) %>%
enter_object(isbns) %>%
gather_array %>%
spread_all %>%
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
enter_object(isbns) %>%
gather_array %>%
spread_all
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
enter_object(isbns) %>%
gather_array %>%
spread_all
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.get %>%
enter_object(isbns) %>%
gather_array %>%
spread_all
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.get %>%
enter_object() %>%
gather_array %>%
spread_all
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.get %>%
#enter_object() %>%
gather_array %>%
spread_all
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.get %>%
spread_all %>%
enter_object() %>%
gather_array %>%
spread_all
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.get %>%
spread_all %>%
enter_object(isbns) %>%
gather_array %>%
spread_all
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.get %>%
spread_all() %>%
enter_object(isbns) %>%
gather_array() %>%
spread_all()
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.get %>%
spread_all() %>%
enter_object(results.isbns) %>%
gather_array() %>%
spread_all()
# recent.clean <- fromJSON(recent.get) %>%
#   prettify() %>%
#   as.data.frame()
# datatable(recent.clean)
recent.get %>%
spread_all() %>%
enter_object(recent.get$isbns) %>%
gather_array() %>%
spread_all()
recent.clean <- fromJSON(recent.get) %>%
prettify() %>%
as.data.frame()
recent.clean <- fromJSON(recent.get) %>%
as.data.frame()
datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
spread_values() %>%
as.data.frame()
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread_values()
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread_values(recent.clean.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread_values(isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread_values(results.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread_values(json.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread()
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(results.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(results.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(recent.clean.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(recent.clean$isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(recent.clean$isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(recent.clean$ranks_clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(recent.clean.ranks_clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(ranks_clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
spread(results.ranks_clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame()
datatable(recent.clean)
spread(results.ranks_clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame()
datatable(recent.clean)
spread(results.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame()
datatable(recent.clean)
spread(isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame()
datatable(recent.clean)
spread(recent.clean.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame()
datatable(recent.clean)
spread(recent.clean.results.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame()
datatable(recent.clean)
spread(recent.clean$results.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame()
datatable(recent.clean)
spread_(recent.clean$results.isbns)
class(recent.clean)
classes(recent.clean)
class(names(recent.clean))
class(recent.clean$results.isbns)
class(recent.clean$status)
class(recent.clean$results.title)
recent.clean <- fromJSON(toJSON(recent.get)) %>%
as.data.frame()
datatable(recent.clean)
spread_(recent.clean$results.isbns)
recent.clean <- fromJSON(toJSON(recent.get)) %>%
as.data.frame()
datatable(recent.clean)
recent.clean <- fromJSON(toJSON(recent.get)) %>%
as.data.frame()
recent.clean <- fromJSON(toJSON(recent.get)) %>%
as.data.frame()
recent.clean <- fromJSON(toJSON(recent.get)) #%>%
as.data.frame()
datatable(recent.clean)
recent.clean <- fromJSON(toJSON(recent.get)) %>%
as.data.frame()
datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame()
datatable(recent.clean)
class(recent.clean$results.isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest()
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(recent.clean$isbns)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(recent.clean$results.isbns)
datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(select(results.isbns,results.rank_history,results.reviews))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(select(recent.clean, results.isbns,results.rank_history,results.reviews))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(select(recent.clean, results.isbns, results.rank_history, results.reviews))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(select(recent.clean, results.isbns, recent.clean$results.rank_history, results.reviews))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(select(recent.clean, results.isbns))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(select(recent.clean, isbns))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(select(recent.clean$isbns))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(select(recent.clean$results.isbns))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(select(results.isbns))
?gsub
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13) %>%
gsub("results.", "", names())
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
gsub("results.", "", names())
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
gsub("results.", "", names(recent.clean))
datatable(recent.clean)
names(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
gsub("results\.", " ", names(recent.clean))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
gsub("^results\\.$", " ", names(recent.clean))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
recent.clean <- gsub("^results\\.$", " ", names(recent.clean))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean) <- gsub("^results\\.$", " ", names(recent.clean))
names(recent.clean) <- gsub("^(results\\.)$", " ", names(recent.clean))
names(recent.clean) <- gsub("^(results\\.)$", " ", names(recent.clean))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean) <- gsub("^(results\\.)$", " ", names(recent.clean))
grepl("results", names(recent.clean))
grepl("results.", names(recent.clean))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean) <- gsub("results.", " ", names(recent.clean))
names(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean) <- gsub("results.", " ", x=names(recent.clean))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean) <- gsub(pattern = "results.", replacement =  " ", x=names(recent.clean))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean) <- gsub(x=names(recent.clean),pattern = "results.", replacement =  " ")
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
lapply(lst, function(x) setNames(x, sub("results.", "", names(recent.clean))))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
str_replace_all(names(recent.clean), "results.", "")
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
str_replace_all(names(recent.clean), "^results.$", "")
library(tidyverse)
library(jsonlite)
library(DT)
library(RCurl)
library(stringr)
key <- "0b71fd02e63d4e6bb9f32fe6e519d63a"
# Base url:
base.url <- "https://api.nytimes.com/svc/books/v3/"
recent.best.url <- "lists/best-sellers/history.json?"
recent.url <- paste0(base.url, recent.best.url, 'api-key=', key)
recent.get <- getURL(recent.url)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
str_replace_all(names(recent.clean), "^results.$", "")
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
str_replace_all(names(recent.clean), "^results.", "")
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean) <- str_replace_all(names(recent.clean), "^results\\.", "")
names(recent.clean)
set_names(recent.clean, 2 = "title", 3 = "description")
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
as.data.frame(lapply(names(recent.clean), function(y) gsub("results.", "", y)))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
as.data.frame(lapply(recent.clean, function(y) gsub("results.", "", y)))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
as.data.frame(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
a(lapply(x, function(y) gsub("%", "", y)))) %>%
recent.clean <- fromJSON(recent.get) %>%
a(lapply(x, function(y) gsub("%", "", y))) %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
set_names(2:5, c("titles", "description", "author", "publisher"))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
recent.clean <- set_names(2:5, c("title", "description", "author", "publisher"))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean) <- set_names(2:5, c("title", "description", "author", "publisher"))
class(names(recent.clean))
class(names(recent.clean$2))
dim(recent.clean)
names(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean)
View(recent.clean)
View(recent.clean)
?colnames
recent.clean <- datatable(recent.clean)
View(recent.clean)
View(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
recent.clean <- datatable(recent.clean)
#gsub("results.", "", names(recent.clean))
recent.clean
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
recent.clean <- datatable(recent.clean)
recent.clean <- gsub("results.", "", names(recent.clean))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
recent.clean <- datatable(recent.clean)
recent.clean <- gsub("results.", "", names(recent.clean))
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
recent.clean <- datatable(recent.clean)
names(recent.clean) <- gsub("results.", "", names(recent.clean))
str_replace_all(names(recent.clean), "results.", "")
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
recent.clean <- datatable(recent.clean)
str_replace_all(names(recent.clean), "results.", "")
recent.clean <- datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
recent.clean <- datatable(recent.clean)
datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
str_replace_all(names(recent.clean), "results.", "")
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
names(recent.clean) <- str_replace_all(names(recent.clean), "results.", "")
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
set_names(recent.clean) <- str_replace_all(names(recent.clean), "results.", "")
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
datatable(recent.clean)
colnames(recent.clean) <- str_replace_all(names(recent.clean), "results.", "")
names(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
colnames(recent.clean) <- str_replace_all(names(recent.clean), "results.", "")
datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
str_replace_all(names(recent.clean), "results.", "")
datatable(recent.clean)
recent.clean <- fromJSON(recent.get) %>%
as.data.frame() %>%
unnest(results.isbns) %>%
select(2, 4, 5, 7, 11:13)
names(recent.clean) <- str_replace_all(names(recent.clean), "results.", "")
datatable(recent.clean)
